<mat-toolbar>
    <span>Character creation</span>
    <div class="div-spacer"></div>
    <button mat-button (click)="createCharacter()" [disabled]="characterCreationFormGroup.invalid">
        <mat-icon>save_alt</mat-icon>
    </button>
</mat-toolbar>

<div class="outerContainer">

    <form [formGroup]="characterCreationFormGroup">

        <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20">

            <mat-card fxFlex="30" fxLayout="column">
                <mat-form-field appearance="outline">
                    <mat-label>Name</mat-label>
                    <input name="name" matInput type="text" formControlName="name">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Version</mat-label>
                    <mat-select formControlName="version" (valueChange)="onVersionChange($event)">
                        <mat-option *ngFor="let version of versions" [value]="version.key">{{version.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Universe</mat-label>
                    <mat-select formControlName="universeId">
                        <mat-option *ngFor="let universe of universes" [value]="universe.id">{{universe.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Race</mat-label>
                    <mat-select formControlName="raceId" (valueChange)="onRaceChange($event)">
                        <mat-option *ngFor="let race of races" [value]="race.id">{{race.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Profession</mat-label>
                    <mat-select formControlName="professionId">
                        <mat-option *ngFor="let profession of professions" [value]="profession.id">{{profession.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Realm</mat-label>
                    <mat-select formControlName="realm">
                        <mat-option *ngFor="let option of realms" [value]="option.key">{{option.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="example-form-field" appearance="outline">
                    <mat-label>Level</mat-label>
                    <input name="level" matInput type="text" formControlName="level">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Age</mat-label>
                    <input name="age" matInput type="text" formControlName="age">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Height</mat-label>
                    <input name="height" matInput type="text" formControlName="height">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Weight</mat-label>
                    <input name="weight" matInput type="text" formControlName="weight">
                </mat-form-field>
            </mat-card>

            <div fxFlex="50" fxLayout="column">
                <app-character-creation-attributes [version]="characterCreationFormGroup.controls['version'].value"
                    (onChangeAttribute)="onAttributeChanged($event)"></app-character-creation-attributes>
            </div>

            <div fxFlex="20">
                <h2>Weapon priority</h2>
                <div cdkDropList class="example-list" (cdkDropListDropped)="drop($event)">
                    <mat-list role="list">
                        <mat-list-item role="listitem" *ngFor="let wCat of this.characterCreationFormGroupValue.weaponCategoryPriority" cdkDrag>
                            <mat-icon> drag_handle</mat-icon>
                            <span>{{wCat}}</span>
                        </mat-list-item>
                    </mat-list>
                </div>
            </div>
        </div>

    </form>
</div>

<pre>{{characterCreationFormGroup.value | json}}</pre>