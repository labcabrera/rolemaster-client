<h2 mat-dialog-title>Action execution</h2>
<mat-dialog-content>


    <app-melee-attack-execution [action]="action" [actionExecution]="actionExecution" [characters]="characters"
        [criticalExecution]="criticalExecution" [fumbleExecution]="fumbleExecution">
    </app-melee-attack-execution>

    <mat-accordion>
        <mat-expansion-panel hideToggle>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Debug
                </mat-panel-title>
            </mat-expansion-panel-header>
            Action:
            <pre>{{action | json}}</pre>
            Action execution:
            <pre>{{actionExecution | json}}</pre>
            Critical execution:
            <pre>{{criticalExecution | json}}</pre>
        </mat-expansion-panel>
    </mat-accordion>

</mat-dialog-content>

<mat-dialog-actions>
    <button mat-button mat-dialog-close>Close</button>
    <button mat-button (click)="executeAction()" *ngIf="!action.roll">Execute</button>
    <button mat-button (click)="executeCritical()" *ngIf="action.state == 'pending-critical-resolution'">Resolve
        critical</button>
    <!--
    <button mat-button [mat-dialog-close]="false">Accept</button>
    -->
</mat-dialog-actions>